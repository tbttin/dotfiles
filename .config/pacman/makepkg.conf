#!/bin/bash

# BUILD ENVIRONMENT
#
#-- Specify a directory for package building.
#-- Build dir result:
#    pkgname
#       |- pkg
#       `- src
#    pkgname
#       |- pkg
#       `- src
BUILDDIR='/tmp/makepkg'

# GLOBAL PACKAGE OPTIONS
#
#-- File integrity checks to use. Valid: md5, sha1, sha224, sha256, sha384, sha512, b2
#-- When multiple types are available in PKGBUILD, the strongest checksum is to be
# preferred: sha256 over sha1, and sha1 over md5. Fall back to md5sums if none is set.
#-- makepkg.conf default:
#INTEGRITY_CHECK=(sha256)

# PACKAGE OUTPUT
#
# Default: put built package and cached source in build directory
#
#-- Destination: specify a fixed directory where all archived packages (pkgname-pkgver.pkg.tar.zst) will be placed
PKGDEST='/tmp/makepkg'
#
#-- Source cache: specify a fixed directory where source files will be cached
#-- From this makepkg will checkout/branch/link the repository/files into $srcdir
#SRCDEST="${HOME}/.local/share/makepkg/sources"
#
#-- Source packages: specify a fixed directory where all src packages will be placed.
#-- A directory for storing resulting source packages (built with makepkg -S)
#SRCPKGDEST="${HOME}/.local/share/makepkg/srcpackages"
#
#-- Log files: specify a fixed directory where all log files will be placed
#-- A directory for storing log files (built with makepkg --log)
#LOGDEST="${HOME}/.local/share/makepkg/logs"
#
#-- Packager: name/email of the person or organization building packages
PACKAGER="Tin Thai <thaibachthanhtin@gmail.com>"

# OTHER
#
#-- Command used to run pacman as root, instead of trying sudo and su
#PACMAN_AUTH=()

# NOTES
#
# makepkg
#
# PKGBUILD prototypes can be found in /usr/share/pacman/
# makepkg order: package download/fetch and extraction -> prepare() -> pkgver() -> buid()
# Some makepkg use-cases and explanations:
# makepkg --cleanbuild --syncdeps --force --iinstall [--clean]
#   Clean ${srcdir} before build.
#   Install missing dependencies.
#   Build when built package already exists.
#   Install with pacman.
#   Clean up leftover work files and directories after a successful build.
# makepkg --geninteg >> PKGBUILD
#   or updpkgsums
#
# pacman
#
# You can use pacman's query functions to display a list of files contained in the package and the dependencies it requires with:
#   pacman --query --list --file=<package-file>
#   pacman --query --info --file=<package-file>
#   pacman --query --info installed-package
# Find which package holds filename:
#   pacman --query --owns filename
#   pacman --files --refresh filename
# List modified files:
#   pacman --query --info --info | grep ^MODIFIED | cut --fileds=2
# Ranking mirror list:
#   curl --silent 'https://archlinux.org/mirrorlist/?country=all&protocol=https&use_mirror_status=on' | sed --expression 's/^#Server/Server/' --expression '/^#/d' | rankmirrors -n 6 - > mirrorlist
#
# Pacman stores its downloaded packages in /var/cache/pacman/pkg
# You can also define how many recent versions you want to keep. To retain only one past version use:
#   paccache -rk1
#
# namcap
#
#   namcap PKGBUILD
#   namcap pkgname-pkgver.pkg.tar.zst

